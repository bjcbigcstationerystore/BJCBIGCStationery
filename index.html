<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BJC Big C Stationery Store - ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Mitr:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body{box-sizing:border-box;font-family:'Mitr',sans-serif}
    .gradient-bg{background:linear-gradient(135deg,#064e3b 0%,#065f46 50%,#047857 100%)}
    .card-shadow{box-shadow:0 20px 40px rgba(0,0,0,.15)}
    .hover-scale{transition:transform .2s ease-in-out}.hover-scale:hover{transform:scale(1.02)}
    .category-item{transition:all .3s}.category-item:hover{background:#f0fdf4;border-color:#22c55e;transform:translateY(-2px)}
    .category-item.selected{background:#22c55e;color:#fff;border-color:#16a34a}
    .company-card{transition:all .3s;cursor:pointer}.company-card:hover{transform:translateY(-5px);box-shadow:0 25px 50px rgba(0,0,0,.2)}
    .company-card.selected{border:4px solid #22c55e;background:#f0fdf4}
    .item-card{transition:all .3s;cursor:pointer}.item-card:hover{transform:translateY(-2px);box-shadow:0 10px 25px rgba(0,0,0,.1)}
    .item-card.selected{border-color:#22c55e;background:#f0fdf4}
    .item-card.hidden-item{opacity:.5;background:#fee2e2;border-color:#ef4444}
    .quantity-input{transition:all .3s}
    .logo-container{width:200px;height:120px;border-radius:16px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:#fff}
    .logo-container img{max-width:180px;max-height:100px;object-fit:contain}
    .admin-company-card{transition:all .3s}.admin-company-card:hover{transform:translateY(-3px);box-shadow:0 15px 30px rgba(0,0,0,.15)}
    .admin-company-card.selected{border-color:#22c55e;background:#f0fdf4}
    .admin-category-item{transition:all .3s;cursor:pointer}.admin-category-item:hover{background:#f0fdf4;border-color:#22c55e;transform:translateY(-2px)}
    .admin-item-card{transition:all .3s}.admin-item-card.hidden-item{background:#fee2e2;border-color:#ef4444}
    .hide-button{transition:all .3s}.hide-button:hover{transform:scale(1.05)}
  </style>

  <!-- ‚¨áÔ∏è ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏¢‡πà‡∏≠‡∏ó‡∏±‡πâ‡∏á‡πÅ‡∏≠‡∏õ (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå) -->
  <style>
    /* ‡∏¢‡πà‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡∏ï‡πå‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏ô wrapper ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 70% ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏à‡∏≤‡∏Å‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á */
    #app-scale{
      transform: scale(0.7);
      transform-origin: top center;
      width: calc(100% / 0.7);   /* ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏±‡∏ô‡∏™‡∏Å‡∏£‡∏≠‡∏•‡∏•‡πå‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô */
      margin: 0 auto;
    }
    /* ‡∏Å‡∏±‡∏ô‡∏™‡∏Å‡∏£‡∏≠‡∏•‡∏•‡πå‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤ */
    html, body { overflow-x: hidden; }

    /* ‡∏à‡∏≠‡πÄ‡∏•‡πá‡∏Å (‡πÅ‡∏ó‡πá‡∏ö‡πÄ‡∏•‡πá‡∏ï/‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠) ‡πÉ‡∏´‡πâ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô 100% */
    @media (max-width:1024px){
      #app-scale{ transform:none; width:100%; }
    }
  </style>
</head>

<body class="gradient-bg min-h-screen">
  <!-- ===== Admin Button (fixed) ‚Äî ‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏≠‡∏Å wrapper ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á/‡∏Ç‡∏ô‡∏≤‡∏î ===== -->
  <div class="fixed top-4 right-4 z-50">
    <button onclick="showAdminLogin()"
      class="bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-full text-sm shadow-lg">
      üë§ Admin
    </button>
  </div>

  <!-- ===== Admin Login Modal (fullscreen) ‚Äî ‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏≠‡∏Å wrapper ===== -->
  <div id="adminLoginModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4">
      <h3 class="text-2xl font-bold text-gray-800 mb-6 text-center">
        ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö Admin<br><span class="text-sm font-normal text-gray-500">Admin Login</span>
      </h3>
      <div class="mb-6">
        <label class="block text-gray-700 text-sm font-bold mb-2">‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô Admin</label>
        <input type="password" id="adminPassword"
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-emerald-500 focus:outline-none"
          placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô Admin">
      </div>
      <div class="flex gap-4">
        <button onclick="hideAdminLogin()" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 rounded-lg">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        <button onclick="adminLogin()" class="flex-1 bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-lg">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
      </div>
    </div>
  </div>

  <!-- ===== Admin Panel (fullscreen) ‚Äî ‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏≠‡∏Å wrapper ===== -->
  <div id="adminPanel" class="fixed inset-0 bg-white z-40 overflow-y-auto hidden">
    <div class="container mx-auto px-6 py-8">
      <div class="flex justify-between items-center mb-8">
        <h2 class="text-3xl font-bold text-emerald-800">‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° Admin</h2>
        <button onclick="exitAdmin()" class="bg-red-500 hover:bg-red-600 text-white py-2 px-6 rounded-lg">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
      </div>

      <!-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó -->
      <div id="adminCompanySelection" class="bg-white rounded-2xl shadow-lg p-8 mb-8">
        <h3 class="text-2xl font-bold text-gray-800 mb-6 text-center">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</h3>
        <div class="grid md:grid-cols-2 gap-8">
          <div class="admin-company-card bg-white border-4 border-gray-200 rounded-2xl p-6 cursor-pointer" onclick="selectAdminCompany('BJC')">
            <div class="logo-container mx-auto mb-4">
              <img src="https://i.postimg.cc/k4M71Cj9/BJC-logo.jpg" alt="BJC" onerror="this.style.display='none'">
            </div>
            <h4 class="text-xl text-center">BJC</h4>
          </div>
          <div class="admin-company-card bg-white border-4 border-gray-200 rounded-2xl p-6 cursor-pointer" onclick="selectAdminCompany('BigC')">
            <div class="logo-container mx-auto mb-4">
              <img src="https://i.postimg.cc/50m6ypr9/logo-big.webp" alt="Big C" onerror="this.style.display='none'">
            </div>
            <h4 class="text-xl text-center">Big C</h4>
          </div>
        </div>
      </div>

      <!-- ‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
      <div id="adminMainView" class="bg-white rounded-2xl shadow-lg p-8 hidden">
        <div class="flex items-center justify-between mb-6">
          <h3 class="text-2xl font-bold text-gray-800">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ <span id="adminSelectedCompany" class="text-emerald-600"></span></h3>
          <button onclick="backToAdminCompanySelection()" class="bg-gray-500 hover:bg-gray-600 text-white py-2 px-6 rounded-lg">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</button>
        </div>
        <div id="adminCategoryView" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"></div>
        <div id="adminItemsView" class="hidden">
          <div class="flex items-center justify-between mb-8">
            <h4 id="adminCategoryTitle" class="text-2xl font-bold text-emerald-800"></h4>
            <button onclick="backToAdminCategories()" class="bg-gray-500 hover:bg-gray-600 text-white py-2 px-6 rounded-full">‚Üê ‡∏Å‡∏•‡∏±‡∏ö</button>
          </div>
          <div id="adminItemsList" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- ========== BEGIN wrapper: ‡∏¢‡πà‡∏≠‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 70% ========== -->
  <div id="app-scale">

    <!-- Page 1 -->
    <div id="page1" class="min-h-screen flex flex-col items-center justify-center p-6">
      <div class="bg-white rounded-3xl card-shadow p-12 max-w-5xl w-full text-center">
        <img src="https://i.postimg.cc/B6wpk3yh/cropped-Logo-BJC-Big-C-2021-2048x606.png"
             alt="BJC Big C Logo" class="mx-auto mb-10 max-w-lg w-full h-auto" onerror="this.style.display='none'">
        <h1 class="text-5xl font-bold text-emerald-800 mb-8 leading-tight">
          BJC Big C Stationery Store<br>
          <span class="text-3xl font-normal text-emerald-600">‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</span>
        </h1>
        <div class="text-gray-700 text-lg leading-relaxed mb-8 max-w-4xl mx-auto space-y-4">
          <p>‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≤‡∏ô‡∏Å‡∏î‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏£‡πâ‡∏≠‡∏á‚Ä¶ ‡∏à‡∏∞‡∏°‡∏µ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πå‡πÅ‡∏à‡πâ‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏à‡∏≤‡∏Å <b>bjcbigcstationerystore@gmail.com</b></p>
          <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ô‡∏û‡∏î‡∏≤ ‡∏ï‡∏±‡πâ‡∏á‡∏Å‡∏ß‡∏¥‡∏•‡∏§‡∏ó‡∏±‡∏¢ Email: <b>Noppada.tan@bigc.co.th</b></p>
          <p class="text-red-600 font-bold">*‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ BU Admin ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏ó‡∏ô‡πÄ‡∏ö‡∏¥‡∏Å‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö BU*</p>
          <p class="text-gray-800 font-bold">‡∏™‡∏á‡∏™‡∏±‡∏¢ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ 02-1465959 #4384</p>
        </div>
        <button onclick="goToPage(2)" class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-5 px-12 rounded-full text-2xl hover-scale shadow-lg">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</button>
      </div>
    </div>

    <!-- Page 2 -->
    <div id="page2" class="min-h-screen flex flex-col items-center justify-center p-6 hidden">
      <div class="bg-white rounded-3xl card-shadow p-12 max-w-5xl w-full text-center">
        <h2 class="text-4xl font-bold text-emerald-800 mb-12">
          ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≤‡∏ô‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î<br><span class="text-lg font-normal text-gray-500">Please select your company</span>
        </h2>
        <div class="grid md:grid-cols-2 gap-12 mb-12">
          <div class="company-card bg-white border-4 border-gray-200 rounded-2xl p-8" onclick="selectCompany('BJC')">
            <div class="logo-container mx-auto mb-6">
              <img src="https://i.postimg.cc/k4M71Cj9/BJC-logo.jpg" alt="BJC" onerror="this.style.display='none'">
            </div>
            <h3 class="text-2xl text-gray-800">BJC</h3>
          </div>
          <div class="company-card bg-white border-4 border-gray-200 rounded-2xl p-8" onclick="selectCompany('BigC')">
            <div class="logo-container mx-auto mb-6">
              <img src="https://i.postimg.cc/50m6ypr9/logo-big.webp" alt="Big C" onerror="this.style.display='none'">
            </div>
            <h3 class="text-2xl text-gray-800">Big C</h3>
          </div>
        </div>
        <button id="nextBtn2" onclick="goToPage(3)"
          class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-4 px-10 rounded-full text-xl hover-scale opacity-50 cursor-not-allowed shadow-lg" disabled>
          ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ<br><span class="text-sm font-normal">Next</span>
        </button>
      </div>
    </div>

    <!-- Page 3 -->
    <div id="page3" class="min-h-screen flex flex-col items-center justify-center p-6 hidden">
      <div class="bg-white rounded-3xl card-shadow p-12 max-w-6xl w-full">
        <h2 class="text-4xl font-bold text-emerald-800 mb-12 text-center">
          ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å<br>
          <span class="text-lg font-normal text-gray-500">Please select the type of items you want to request</span>
        </h2>

        <div id="categoryView" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
          <div class="category-item border-3 border-gray-200 rounded-xl p-6 cursor-pointer text-center" onclick="showCategoryItems('‡πÅ‡∏ü‡πâ‡∏°‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö')">
            <div class="text-4xl mb-4">üìÅ</div><span class="font-bold text-lg">‡πÅ‡∏ü‡πâ‡∏°‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö</span>
            <div class="text-sm text-gray-500 mt-2">8 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>
          </div>
          <div class="category-item border-3 border-gray-200 rounded-xl p-6 cursor-pointer text-center" onclick="showCategoryItems('‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ï‡∏±‡∏î')">
            <div class="text-4xl mb-4">‚úÇÔ∏è</div><span class="font-bold text-lg">‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ï‡∏±‡∏î</span>
            <div class="text-sm text-gray-500 mt-2">6 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>
          </div>
          <div class="category-item border-3 border-gray-200 rounded-xl p-6 cursor-pointer text-center" onclick="showCategoryItems('‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏à‡∏≤‡∏∞')">
            <div class="text-4xl mb-4">üï≥Ô∏è</div><span class="font-bold text-lg">‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏à‡∏≤‡∏∞</span>
            <div class="text-sm text-gray-500 mt-2">4 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>
          </div>
          <div class="category-item border-3 border-gray-200 rounded-xl p-6 cursor-pointer text-center" onclick="showCategoryItems('‡∏Ñ‡∏•‡∏¥‡∏õ‡∏´‡∏ô‡∏µ‡∏ö‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©')">
            <div class="text-4xl mb-4">üìé</div><span class="font-bold text-lg">‡∏Ñ‡∏•‡∏¥‡∏õ‡∏´‡∏ô‡∏µ‡∏ö‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©</span>
            <div class="text-sm text-gray-500 mt-2">5 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>
          </div>
          <div class="category-item border-3 border-gray-200 rounded-xl p-6 cursor-pointer text-center" onclick="showCategoryItems('‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô')">
            <div class="text-4xl mb-4">‚úèÔ∏è</div><span class="font-bold text-lg">‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô</span>
            <div class="text-sm text-gray-500 mt-2">12 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>
          </div>
          <div class="category-item border-3 border-gray-200 rounded-xl p-6 cursor-pointer text-center" onclick="showCategoryItems('‡∏™‡∏Å‡∏≠‡∏ï‡πÄ‡∏ó‡∏õ,‡∏Å‡∏≤‡∏ß‡πÅ‡∏•‡∏∞‡πÇ‡∏û‡∏™‡∏≠‡∏¥‡∏ó')">
            <div class="text-4xl mb-4">üè∑Ô∏è</div><span class="font-bold text-lg">‡∏™‡∏Å‡∏≠‡∏ï‡πÄ‡∏ó‡∏õ,‡∏Å‡∏≤‡∏ß‡πÅ‡∏•‡∏∞‡πÇ‡∏û‡∏™‡∏≠‡∏¥‡∏ó</span>
            <div class="text-sm text-gray-500 mt-2">7 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>
          </div>
        </div>

        <div id="itemsView" class="hidden">
          <div class="flex items-center justify-between mb-8">
            <h3 id="categoryTitle" class="text-3xl font-bold text-emerald-800"></h3>
            <button onclick="backToCategories()" class="bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-6 rounded-full">‚Üê ‡∏Å‡∏•‡∏±‡∏ö</button>
          </div>
          <div id="itemsList" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"></div>
        </div>

        <div class="text-center">
          <button id="nextBtn3" onclick="goToPage(4)"
            class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-4 px-10 rounded-full text-xl hover-scale opacity-50 cursor-not-allowed shadow-lg" disabled>
            ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ<br><span class="text-sm font-normal">Next</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Page 4 -->
    <div id="page4" class="min-h-screen flex flex-col items-center justify-center p-6 hidden">
      <div class="bg-white rounded-3xl card-shadow p-12 max-w-6xl w-full">
        <div class="grid lg:grid-cols-2 gap-12">
          <div class="bg-emerald-50 border-3 border-emerald-300 rounded-2xl p-8">
            <h3 class="text-2xl font-bold text-emerald-800 mb-8 text-center">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h3>
            <div class="mb-8">
              <label class="block text-emerald-800 text-xl font-bold mb-3">‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</label>
              <input type="text" id="employeeId"
                class="w-full px-6 py-4 border-3 border-emerald-400 rounded-xl focus:border-emerald-600 focus:outline-none text-lg bg-white shadow-lg"
                placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô">
            </div>
            <div class="mb-4">
              <label class="block text-emerald-800 text-xl font-bold mb-3">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
              <textarea id="remarks" rows="6"
                class="w-full px-6 py-4 border-3 border-emerald-400 rounded-xl focus:border-emerald-600 focus:outline-none text-lg bg-white shadow-lg"
                placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)"></textarea>
            </div>
          </div>

          <div class="bg-emerald-50 border-3 border-emerald-200 rounded-2xl p-8">
            <h3 class="text-2xl font-bold text-emerald-800 mb-6">‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å</h3>
            <div id="selectedItems" class="mb-6 max-h-96 overflow-y-auto">
              <p class="text-gray-600 text-lg">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</p>
            </div>
            <div class="border-t-3 border-emerald-200 pt-6">
              <p class="text-2xl font-bold text-emerald-800">
                ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≤‡∏ô‡πÄ‡∏ö‡∏¥‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <span id="totalPrice">0</span> ‡∏ö‡∏≤‡∏ó
              </p>
            </div>
          </div>
        </div>

        <div class="text-center mt-12">
          <button onclick="submitForm()"
            class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-5 px-12 rounded-full text-2xl hover-scale shadow-lg">
            ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏£‡πâ‡∏≠‡∏á‡∏Ç‡∏≠
          </button>
        </div>
      </div>
    </div>

    <!-- Success Page -->
    <div id="successPage" class="min-h-screen flex flex-col items-center justify-center p-6 hidden">
      <div class="bg-white rounded-3xl card-shadow p-12 max-w-3xl w-full text-center">
        <div class="text-emerald-600 text-8xl mb-8">‚úì</div>
        <h2 class="text-4xl font-bold text-emerald-800 mb-6">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏£‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!</h2>
        <p class="text-gray-700 text-xl mb-12 leading-relaxed">‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß</p>
        <button onclick="resetForm()" class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-4 px-10 rounded-full text-xl hover-scale shadow-lg">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
      </div>
    </div>

  </div>
  <!-- ========== END wrapper ========== -->

  <script>
    /* ===== CONFIG ===== */
    const GAS_WEB_APP_URL = 'https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec'; // ‡πÉ‡∏™‡πà URL /exec ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
    const ADMIN_CODES = ['BJC_ADMIN_2024','BIGC_MANAGER_001','STATIONERY_SUPER_ADMIN'];

    /* ===== STATE ===== */
    let selectedCompany='', selectedItems={}, currentCategory='';
    let itemsData={}, hiddenItems=new Set();
    let isAdminMode=false, adminSelectedCompany='', adminCurrentCategory='';

    /* ===== Admin ===== */
    function showAdminLogin(){ document.getElementById('adminLoginModal').classList.remove('hidden'); }
    function hideAdminLogin(){ document.getElementById('adminLoginModal').classList.add('hidden'); document.getElementById('adminPassword').value=''; }
    function adminLogin(){
      const pw=document.getElementById('adminPassword').value;
      if(ADMIN_CODES.includes(pw)){ isAdminMode=true; hideAdminLogin(); showAdminPanel(); }
      else { alert('‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô Admin ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á'); document.getElementById('adminPassword').value=''; }
    }
    function showAdminPanel(){
      document.getElementById('adminPanel').classList.remove('hidden');
      document.getElementById('adminCompanySelection').classList.remove('hidden');
      document.getElementById('adminMainView').classList.add('hidden');
    }
    function exitAdmin(){
      isAdminMode=false; adminSelectedCompany=''; adminCurrentCategory='';
      document.getElementById('adminPanel').classList.add('hidden');
      document.getElementById('adminCompanySelection').classList.remove('hidden');
      document.getElementById('adminMainView').classList.add('hidden');
    }
    function selectAdminCompany(company){
      adminSelectedCompany=company;
      document.getElementById('adminSelectedCompany').textContent=company;
      document.getElementById('adminCompanySelection').classList.add('hidden');
      document.getElementById('adminMainView').classList.remove('hidden');
      if(!Object.keys(itemsData).length){ loadAdminProductData(); }
      else { loadAdminCategoryView(); }
    }
    function backToAdminCompanySelection(){
      document.getElementById('adminCompanySelection').classList.remove('hidden');
      document.getElementById('adminMainView').classList.add('hidden');
      document.getElementById('adminCategoryView').classList.remove('hidden');
      document.getElementById('adminItemsView').classList.add('hidden');
      adminSelectedCompany=''; adminCurrentCategory='';
    }
    async function loadAdminProductData(){
      try{
        const sheetName = adminSelectedCompany==='BigC' ? 'Prod BigC' : 'Prod BJC';
        const res = await fetch(`${GAS_WEB_APP_URL}?action=getProducts&company=${adminSelectedCompany}&sheet=${encodeURIComponent(sheetName)}`);
        const data = await res.json();
        if(data.success){ itemsData=data.products; loadAdminCategoryView(); }
        else { loadFallbackData(); loadAdminCategoryView(); }
      }catch(err){ loadFallbackData(); loadAdminCategoryView(); }
    }
    function loadAdminCategoryView(){
      const categories=Object.keys(itemsData);
      const view=document.getElementById('adminCategoryView');
      view.innerHTML = categories.map(category=>{
        const items=itemsData[category]||[];
        const hiddenCount=items.filter(it=>hiddenItems.has(`${category}-${it.name}`)).length;
        const visibleCount=items.length - hiddenCount;
        return `<div class="admin-category-item border-3 border-gray-200 rounded-xl p-6 text-center" onclick="showAdminCategoryItems('${category}')">
          <div class="text-4xl mb-4">${getDefaultEmoji(category)}</div>
          <span class="font-bold text-lg">${category}</span>
          <div class="text-sm text-gray-600 mt-2"><div class="text-green-600 font-medium">${visibleCount} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á</div>${hiddenCount?`<div class="text-red-600 font-medium">${hiddenCount} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏ô</div>`:''}</div>
        </div>`;
      }).join('');
    }
    function showAdminCategoryItems(category){
      adminCurrentCategory=category;
      document.getElementById('adminCategoryView').classList.add('hidden');
      document.getElementById('adminItemsView').classList.remove('hidden');
      document.getElementById('adminCategoryTitle').textContent=category;
      const items=itemsData[category]||[];
      document.getElementById('adminItemsList').innerHTML = items.map(item=>{
        const key=`${category}-${item.name}`, isHidden=hiddenItems.has(key);
        return `<div class="admin-item-card bg-white border-2 rounded-xl p-6 ${isHidden?'hidden-item border-red-300':'border-gray-200'}">
          <div class="text-center">
            ${item.image && /^https?:/.test(item.image) ? `<img src="${item.image}" alt="${item.name}" class="w-24 h-24 mx-auto mb-4 object-contain rounded-lg border" onerror="this.style.display='none'">`:`<div class="text-3xl mb-4">${item.image||'üì¶'}</div>`}
            <h4 class="font-bold text-lg mb-2">${item.name}</h4>
            ${item.description?`<p class="text-gray-600 text-sm mb-2">${item.description}</p>`:''}
            <p class="text-emerald-600 font-bold text-lg mb-4">${item.price} ‡∏ö‡∏≤‡∏ó/${item.unit||'‡∏ä‡∏¥‡πâ‡∏ô'}</p>
            <button onclick="toggleItemVisibility('${category}','${item.name}')" class="hide-button w-full py-3 px-4 rounded-lg font-bold text-lg ${isHidden?'bg-green-500 hover:bg-green-600':'bg-red-500 hover:bg-red-600'} text-white">${isHidden?'‚úì ‡πÅ‡∏™‡∏î‡∏á':'‚úï ‡∏ã‡πà‡∏≠‡∏ô'}</button>
            ${isHidden?'<div class="mt-3 text-red-600 font-medium text-sm">üö´ ‡∏ã‡πà‡∏≠‡∏ô‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</div>':''}
          </div>
        </div>`;
      }).join('');
    }
    function backToAdminCategories(){
      document.getElementById('adminCategoryView').classList.remove('hidden');
      document.getElementById('adminItemsView').classList.add('hidden');
      adminCurrentCategory=''; loadAdminCategoryView();
    }
    function getDefaultEmoji(category){
      const map={'‡πÅ‡∏ü‡πâ‡∏°‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö':'üìÅ','‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ï‡∏±‡∏î':'‚úÇÔ∏è','‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏à‡∏≤‡∏∞':'üï≥Ô∏è','‡∏Ñ‡∏•‡∏¥‡∏õ‡∏´‡∏ô‡∏µ‡∏ö‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©':'üìé','‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô':'‚úèÔ∏è','‡∏™‡∏Å‡∏≠‡∏ï‡πÄ‡∏ó‡∏õ,‡∏Å‡∏≤‡∏ß‡πÅ‡∏•‡∏∞‡πÇ‡∏û‡∏™‡∏≠‡∏¥‡∏ó':'üè∑Ô∏è','‡∏ñ‡πà‡∏≤‡∏ô':'üîã','‡∏ã‡∏≠‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£':'üìÆ','‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î':'üßΩ','‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°':'‚òï','‡∏≠‡∏∑‡πà‡∏ô‡πÜ':'üì¶'};
      return map[category]||'üì¶';
    }
    function toggleItemVisibility(category,itemName){
      const key=`${category}-${itemName}`;
      if(hiddenItems.has(key)) hiddenItems.delete(key); else hiddenItems.add(key);
      localStorage.setItem('hiddenItems', JSON.stringify([...hiddenItems]));
      if(adminCurrentCategory===category && !document.getElementById('adminItemsView').classList.contains('hidden')) showAdminCategoryItems(category);
      if(!document.getElementById('adminCategoryView').classList.contains('hidden')) loadAdminCategoryView();
      if(!document.getElementById('categoryView').classList.contains('hidden')) updateCategoryView();
      if(currentCategory===category && !document.getElementById('itemsView').classList.contains('hidden')) showCategoryItems(category);
    }

    /* ===== User pages ===== */
    function goToPage(n){
      for(let i=1;i<=4;i++){ document.getElementById(`page${i}`).classList.add('hidden'); }
      document.getElementById('successPage').classList.add('hidden');
      document.getElementById(`page${n}`).classList.remove('hidden');
    }
    function selectCompany(company){
      selectedCompany=company;
      document.querySelectorAll('.company-card').forEach(c=>c.classList.remove('selected'));
      event.target.closest('.company-card').classList.add('selected');   // ‡πÉ‡∏ä‡πâ event global (Chrome/Edge)
      const nextBtn=document.getElementById('nextBtn2');
      nextBtn.disabled=false; nextBtn.classList.remove('opacity-50','cursor-not-allowed');
      loadProductData();
    }
    async function loadProductData(){
      try{
        const sheetName = selectedCompany==='BigC' ? 'Prod BigC' : 'Prod BJC';
        const res = await fetch(`${GAS_WEB_APP_URL}?action=getProducts&company=${selectedCompany}&sheet=${encodeURIComponent(sheetName)}`);
        const data = await res.json();
        if(data.success){ itemsData=data.products; updateCategoryView(); }
        else { console.error('Error loading:', data.error); loadFallbackData(); updateCategoryView(); }
      }catch(err){ console.error('Fetch error:', err); loadFallbackData(); updateCategoryView(); }
    }
    function updateCategoryView(){
      document.querySelectorAll('.category-item').forEach(el=>{
        const m=el.getAttribute('onclick').match(/'([^']+)'/); if(!m) return;
        const categoryName=m[1];
        const items=itemsData[categoryName]||[];
        const visible=items.filter(item=>!hiddenItems.has(`${categoryName}-${item.name}`));
        const countEl=el.querySelector('.text-sm.text-gray-500.mt-2');
        if(countEl) countEl.textContent=`${visible.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`;
      });
    }
    function showCategoryItems(category){
      currentCategory=category;
      document.getElementById('categoryView').classList.add('hidden');
      document.getElementById('itemsView').classList.remove('hidden');
      document.getElementById('categoryTitle').textContent=category;

      const items = (itemsData[category]||[]).filter(it=>!hiddenItems.has(`${category}-${it.name}`));
      const list=document.getElementById('itemsList');
      list.innerHTML = items.map(item=>{
        const key=item.name.replace(/\s+/g,'');
        return `<div class="item-card bg-white border-2 border-gray-200 rounded-xl p-6" onclick="toggleItem('${category}','${item.name}',${item.price},'${item.unit||'‡∏ä‡∏¥‡πâ‡∏ô'}')">
          <div class="text-center">
            ${item.image && /^https?:/.test(item.image) ? `<img src="${item.image}" alt="${item.name}" class="w-32 h-32 mx-auto mb-4 object-contain rounded-lg border" onerror="this.style.display='none'">`:`<div class="text-4xl mb-4">${item.image||'üì¶'}</div>`}
            <h4 class="font-bold text-lg mb-2">${item.name}</h4>
            ${item.description?`<p class="text-gray-600 text-sm mb-2">${item.description}</p>`:''}
            <p class="text-emerald-600 font-bold text-xl mb-2">${item.price} ‡∏ö‡∏≤‡∏ó/${item.unit||'‡∏ä‡∏¥‡πâ‡∏ô'}</p>
            <div id="quantity-${key}" class="quantity-input hidden">
              <label class="block text-sm font-medium text-gray-700 mb-2">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (${item.unit||'‡∏ä‡∏¥‡πâ‡∏ô'})</label>
              <input type="number" min="1" value="1" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-emerald-500 focus:outline-none"
                onchange="updateQuantity('${category}','${item.name}',${item.price},this.value,'${item.unit||'‡∏ä‡∏¥‡πâ‡∏ô'}')">
              <div class="mt-2 text-sm text-emerald-600 font-semibold">‡∏£‡∏ß‡∏°: <span id="total-${key}">${item.price}</span> ‡∏ö‡∏≤‡∏ó</div>
            </div>
          </div>
        </div>`;
      }).join('');
    }
    function backToCategories(){
      document.getElementById('categoryView').classList.remove('hidden');
      document.getElementById('itemsView').classList.add('hidden');
    }
    function toggleItem(category,itemName,price,unit){
      const key=`${category}-${itemName}`;
      const qdiv=document.getElementById(`quantity-${itemName.replace(/\s+/g,'')}`);
      const card=event.target.closest('.item-card');
      if(selectedItems[key]){ delete selectedItems[key]; card.classList.remove('selected'); qdiv.classList.add('hidden'); }
      else { selectedItems[key]={category,name:itemName,price,unit,quantity:1,total:price}; card.classList.add('selected'); qdiv.classList.remove('hidden'); }
      updateNextButton(); updateSummary();
    }
    function updateQuantity(category,itemName,price,quantity,unit){
      const key=`${category}-${itemName}`; const qty=parseInt(quantity)||1; const total=price*qty;
      if(selectedItems[key]){ selectedItems[key].quantity=qty; selectedItems[key].total=total; selectedItems[key].unit=unit; }
      document.getElementById(`total-${itemName.replace(/\s+/g,'')}`).textContent=total;
      updateSummary();
    }
    function updateNextButton(){
      const btn=document.getElementById('nextBtn3');
      if(Object.keys(selectedItems).length>0){ btn.disabled=false; btn.classList.remove('opacity-50','cursor-not-allowed'); }
      else { btn.disabled=true; btn.classList.add('opacity-50','cursor-not-allowed'); }
    }
    function updateSummary(){
      const selectedDiv=document.getElementById('selectedItems');
      const totalSpan=document.getElementById('totalPrice');
      if(Object.keys(selectedItems).length===0){ selectedDiv.innerHTML='<p class="text-gray-600 text-lg">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</p>'; totalSpan.textContent='0'; return; }
      const group={}; let grand=0;
      Object.values(selectedItems).forEach(it=>{ group[it.category]??={items:[],sum:0}; group[it.category].items.push(it); group[it.category].sum+=it.total; grand+=it.total; });
      let html='<div class="space-y-6">';
      Object.entries(group).forEach(([cat,data])=>{
        html+=`<div class="border-b border-emerald-200 pb-4"><h4 class="font-bold text-lg text-emerald-800 mb-3">${cat}</h4><div class="space-y-2 ml-4">`;
        data.items.forEach(it=>{
          html+=`<div class="flex justify-between items-center text-sm"><span class="text-gray-700">${it.name}</span><div class="text-right"><div class="text-gray-600">${it.quantity} ${it.unit||'‡∏ä‡∏¥‡πâ‡∏ô'} √ó ${it.price} ‡∏ö‡∏≤‡∏ó</div><div class="font-semibold text-emerald-600">${it.total} ‡∏ö‡∏≤‡∏ó</div></div></div>`;
        });
        html+=`</div><div class="text-right mt-3 font-bold text-emerald-700">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏° ${cat}: ${data.sum.toLocaleString()} ‡∏ö‡∏≤‡∏ó</div></div>`;
      });
      html+='</div>'; selectedDiv.innerHTML=html; totalSpan.textContent=grand.toLocaleString();
    }

    async function submitForm(){
      const employeeId=document.getElementById('employeeId').value;
      const remarks=document.getElementById('remarks').value;
      if(!employeeId.trim()){ alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô'); return; }
      const btn=event.target, old=btn.innerHTML; btn.innerHTML='‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á...'; btn.disabled=true;
      try{
        const res=await fetch(GAS_WEB_APP_URL,{
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify({
            action:'submitForm', company:selectedCompany, items:selectedItems,
            employeeId, remarks, totalPrice: document.getElementById('totalPrice').textContent,
            timestamp: new Date().toISOString()
          })
        });
        const out=await res.json();
        if(out.success){ document.getElementById('page4').classList.add('hidden'); document.getElementById('successPage').classList.remove('hidden'); }
        else{ alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: '+(out.error||'')); btn.innerHTML=old; btn.disabled=false; }
      }catch(err){ alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠'); btn.innerHTML=old; btn.disabled=false; }
    }
    function resetForm(){
      selectedCompany=''; selectedItems={}; currentCategory='';
      document.getElementById('employeeId').value=''; document.getElementById('remarks').value='';
      document.querySelectorAll('.company-card').forEach(c=>c.classList.remove('selected'));
      const nb2=document.getElementById('nextBtn2'); nb2.disabled=true; nb2.classList.add('opacity-50','cursor-not-allowed');
      const nb3=document.getElementById('nextBtn3'); nb3.disabled=true; nb3.classList.add('opacity-50','cursor-not-allowed');
      backToCategories(); goToPage(1);
    }

    function loadHiddenItems(){ const saved=localStorage.getItem('hiddenItems'); if(saved) hiddenItems=new Set(JSON.parse(saved)); }
    function loadFallbackData(){
      // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏£‡∏≠‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠ backend ‡∏•‡πà‡∏°/‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
      itemsData={
        '‡πÅ‡∏ü‡πâ‡∏°‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö':[
          {name:'‡∏•‡∏¥‡πâ‡∏ô‡πÅ‡∏ü‡πâ‡∏°‡∏≠‡∏∞‡∏•‡∏π‡∏°‡∏¥‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡∏£‡∏∏‡πà‡∏ô223',price:45,image:'https://i.postimg.cc/c4LbLsfS/T8-223.jpg',unit:'‡∏ä‡∏¥‡πâ‡∏ô',description:'‡∏•‡∏¥‡πâ‡∏ô‡πÅ‡∏ü‡πâ‡∏°‡∏≠‡∏∞‡∏•‡∏π‡∏°‡∏¥‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏î‡∏µ'},
          {name:'‡πÅ‡∏ü‡πâ‡∏°‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ A4',price:35,image:'üìÇ',unit:'‡πÄ‡∏•‡πà‡∏°'}
        ],
        '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô':[
          {name:'‡∏õ‡∏≤‡∏Å‡∏Å‡∏≤‡∏•‡∏π‡∏Å‡∏•‡∏∑‡πà‡∏ô‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô',price:12,image:'üñäÔ∏è',unit:'‡∏î‡πâ‡∏≤‡∏°'},
          {name:'‡∏î‡∏¥‡∏ô‡∏™‡∏≠ HB',price:8,image:'‚úèÔ∏è',unit:'‡πÅ‡∏ó‡πà‡∏á'}
        ],
        '‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ï‡∏±‡∏î':[
          {name:'‡∏Å‡∏£‡∏£‡πÑ‡∏Å‡∏£',price:30,image:'‚úÇÔ∏è',unit:'‡∏Ñ‡∏π‡πà'},
          {name:'‡∏°‡∏µ‡∏î‡∏Ñ‡∏±‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡πå',price:20,image:'üî™',unit:'‡∏î‡πâ‡∏≤‡∏°'}
        ]
      };
    }

    window.addEventListener('load', ()=>{ loadHiddenItems(); });
  </script>
</body>
</html>
